<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Function to test the proportional hazards hypothesis of the model. — coh_test_noconf • vaccineff</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Function to test the proportional hazards hypothesis of the model. — coh_test_noconf"><meta name="description" content="The function relies on the implementation of the Schoenfeld test for testing
the proportional hazards hypothesis on survival package.
It returns the result of the test and it can by plotted using plot().
If the test is rejected, it is recomended to try other statistical
strategies, e.g. stratifying the dataset by confounders or including
time-dependent variables."><meta property="og:description" content="The function relies on the implementation of the Schoenfeld test for testing
the proportional hazards hypothesis on survival package.
It returns the result of the test and it can by plotted using plot().
If the test is rejected, it is recomended to try other statistical
strategies, e.g. stratifying the dataset by confounders or including
time-dependent variables."><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XZ471458FQ');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">vaccineff</a>
    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/vaccineff.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiverse-trace/vaccineff/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <h1>Function to test the proportional hazards hypothesis of the model.</h1>
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/vaccineff/blob/HEAD/R/coh_performance.R" class="external-link"><code>R/coh_performance.R</code></a></small>
      <div class="d-none name"><code>coh_test_noconf.Rd</code></div>
    </div>
    <div class="ref-description section level2">
    <p>The function relies on the implementation of the Schoenfeld test for testing
the proportional hazards hypothesis on survival package.
It returns the result of the test and it can by plotted using plot().
If the test is rejected, it is recomended to try other statistical
strategies, e.g. stratifying the dataset by confounders or including
time-dependent variables.</p>
    </div>
    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">coh_test_noconf</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">outcome_status_col</span>,</span>
<span>  <span class="va">time_to_event_col</span>,</span>
<span>  <span class="va">status_vacc_col</span>,</span>
<span>  p_thr <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>dataset with cohort information (see example)</p></dd>
<dt id="arg-outcome-status-col">outcome_status_col<a class="anchor" aria-label="anchor" href="#arg-outcome-status-col"></a></dt>
<dd><p>name of the column containing status of the
event (most be a binary column)</p></dd>
<dt id="arg-time-to-event-col">time_to_event_col<a class="anchor" aria-label="anchor" href="#arg-time-to-event-col"></a></dt>
<dd><p>name of the column containing the time-to-event</p></dd>
<dt id="arg-status-vacc-col">status_vacc_col<a class="anchor" aria-label="anchor" href="#arg-status-vacc-col"></a></dt>
<dd><p>name of the column containing the vaccination
status</p></dd>
<dt id="arg-p-thr">p_thr<a class="anchor" aria-label="anchor" href="#arg-p-thr"></a></dt>
<dd><p>p-value to test Proportional Hazards Hypothesis</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
<p>Schoenfeld test: Survival element</p>
    </div>
    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># load example package data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"cohortdata"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add useful columns</span></span></span>
<span class="r-in"><span><span class="va">cohortdata</span><span class="op">$</span><span class="va">immunization</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_immunization_date.html">get_immunization_date</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">cohortdata</span>,</span></span>
<span class="r-in"><span>  outcome_date_col <span class="op">=</span> <span class="st">"death_date"</span>,</span></span>
<span class="r-in"><span>  outcome_delay <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  immunization_delay <span class="op">=</span> <span class="fl">14</span>,</span></span>
<span class="r-in"><span>  vacc_date_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"vaccine_date_1"</span>, <span class="st">"vaccine_date_2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  end_cohort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2044-12-31"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  take_first <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cohortdata</span><span class="op">$</span><span class="va">vaccine_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="set_status.html">set_status</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">cohortdata</span>,</span></span>
<span class="r-in"><span>  col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"immunization"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  status <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"v"</span>, <span class="st">"u"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cohortdata</span><span class="op">$</span><span class="va">death_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="set_status.html">set_status</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">cohortdata</span>,</span></span>
<span class="r-in"><span>  col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"death_date"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cohortdata</span><span class="op">$</span><span class="va">time_to_death</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_time_to_event.html">get_time_to_event</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">cohortdata</span>,</span></span>
<span class="r-in"><span>  outcome_date_col <span class="op">=</span> <span class="st">"death_date"</span>,</span></span>
<span class="r-in"><span>  start_cohort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2044-01-01"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  end_cohort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2044-12-31"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  start_from_immunization <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># perform the test</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">coh_test_noconf</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cohortdata</span>,</span></span>
<span class="r-in"><span>  <span class="st">"death_status"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"time_to_death"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"vaccine_status"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View test object</span></span></span>
<span class="r-in"><span><span class="va">test</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         chisq df       p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data[[status_vacc_col]]    11  1 0.00091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GLOBAL                     11  1 0.00091</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>
    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Santiago Quevedo, Zulma M. Cucunubá, International Development Research Center (IDRC).</p>
</div>
<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>
    </footer></div>
  </body></html>

